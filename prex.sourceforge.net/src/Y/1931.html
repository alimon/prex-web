<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>shdr</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-5.6.1' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<a href='../S/13.html#L234'>shdr</a>              234 bsp/boot/common/elf.c relocate_section(char *img, Elf32_Shdr *shdr)
<a href='../S/13.html#L243'>shdr</a>              243 bsp/boot/common/elf.c 	if (shdr-&gt;sh_entsize == 0)
<a href='../S/13.html#L245'>shdr</a>              245 bsp/boot/common/elf.c 	if ((target_sect = sect_addr[shdr-&gt;sh_info]) == 0)
<a href='../S/13.html#L247'>shdr</a>              247 bsp/boot/common/elf.c 	if ((symtab = (Elf32_Sym *)sect_addr[shdr-&gt;sh_link]) == 0)
<a href='../S/13.html#L253'>shdr</a>              253 bsp/boot/common/elf.c 	nr_reloc = (int)(shdr-&gt;sh_size / shdr-&gt;sh_entsize);
<a href='../S/13.html#L254'>shdr</a>              254 bsp/boot/common/elf.c 	switch (shdr-&gt;sh_type) {
<a href='../S/13.html#L257'>shdr</a>              257 bsp/boot/common/elf.c 				(Elf32_Rel *)(img + shdr-&gt;sh_offset),
<a href='../S/13.html#L263'>shdr</a>              263 bsp/boot/common/elf.c 				(Elf32_Rela *)(img + shdr-&gt;sh_offset),
<a href='../S/13.html#L278'>shdr</a>              278 bsp/boot/common/elf.c 	Elf32_Shdr *shdr;
<a href='../S/13.html#L284'>shdr</a>              284 bsp/boot/common/elf.c 	shdr = (Elf32_Shdr *)((paddr_t)ehdr + ehdr-&gt;e_shoff);
<a href='../S/13.html#L290'>shdr</a>              290 bsp/boot/common/elf.c 	for (i = 0; i &lt; (int)ehdr-&gt;e_shnum; i++, shdr++) {
<a href='../S/13.html#L292'>shdr</a>              292 bsp/boot/common/elf.c 		if (shdr-&gt;sh_type == SHT_PROGBITS) {
<a href='../S/13.html#L294'>shdr</a>              294 bsp/boot/common/elf.c 			ELFDBG(("sh_addr=%x\n", shdr-&gt;sh_addr));
<a href='../S/13.html#L295'>shdr</a>              295 bsp/boot/common/elf.c 			ELFDBG(("sh_size=%x\n", shdr-&gt;sh_size));
<a href='../S/13.html#L296'>shdr</a>              296 bsp/boot/common/elf.c 			ELFDBG(("sh_offset=%x\n", shdr-&gt;sh_offset));
<a href='../S/13.html#L297'>shdr</a>              297 bsp/boot/common/elf.c 			ELFDBG(("sh_flags=%x\n", shdr-&gt;sh_flags));
<a href='../S/13.html#L299'>shdr</a>              299 bsp/boot/common/elf.c 			switch (shdr-&gt;sh_flags &amp; SHF_VALID) {
<a href='../S/13.html#L308'>shdr</a>              308 bsp/boot/common/elf.c 								 shdr-&gt;sh_addr);
<a href='../S/13.html#L318'>shdr</a>              318 bsp/boot/common/elf.c 			sect_base = load_base + shdr-&gt;sh_addr;
<a href='../S/13.html#L319'>shdr</a>              319 bsp/boot/common/elf.c 			memcpy((char *)sect_base, img + shdr-&gt;sh_offset,
<a href='../S/13.html#L320'>shdr</a>              320 bsp/boot/common/elf.c 			       (size_t)shdr-&gt;sh_size);
<a href='../S/13.html#L322'>shdr</a>              322 bsp/boot/common/elf.c 				 sect_base, (int)shdr-&gt;sh_size));
<a href='../S/13.html#L325'>shdr</a>              325 bsp/boot/common/elf.c 		} else if (shdr-&gt;sh_type == SHT_NOBITS) {
<a href='../S/13.html#L327'>shdr</a>              327 bsp/boot/common/elf.c 			m-&gt;bsssz = (size_t)shdr-&gt;sh_size;
<a href='../S/13.html#L328'>shdr</a>              328 bsp/boot/common/elf.c 			sect_base = load_base + shdr-&gt;sh_addr;
<a href='../S/13.html#L332'>shdr</a>              332 bsp/boot/common/elf.c 			memset((char *)bss_base, 0, (size_t)shdr-&gt;sh_size);
<a href='../S/13.html#L335'>shdr</a>              335 bsp/boot/common/elf.c 		} else if (shdr-&gt;sh_type == SHT_SYMTAB) {
<a href='../S/13.html#L338'>shdr</a>              338 bsp/boot/common/elf.c 				i, shdr-&gt;sh_link));
<a href='../S/13.html#L339'>shdr</a>              339 bsp/boot/common/elf.c 			sect_addr[i] = img + shdr-&gt;sh_offset;
<a href='../S/13.html#L342'>shdr</a>              342 bsp/boot/common/elf.c 			strshndx = (int)shdr-&gt;sh_link;
<a href='../S/13.html#L343'>shdr</a>              343 bsp/boot/common/elf.c 		} else if (shdr-&gt;sh_type == SHT_STRTAB) {
<a href='../S/13.html#L345'>shdr</a>              345 bsp/boot/common/elf.c 			sect_addr[i] = img + shdr-&gt;sh_offset;
<a href='../S/13.html#L362'>shdr</a>              362 bsp/boot/common/elf.c 	shdr = (Elf32_Shdr *)((paddr_t)ehdr + ehdr-&gt;e_shoff);
<a href='../S/13.html#L363'>shdr</a>              363 bsp/boot/common/elf.c 	for (i = 0; i &lt; (int)ehdr-&gt;e_shnum; i++, shdr++) {
<a href='../S/13.html#L364'>shdr</a>              364 bsp/boot/common/elf.c 		if (shdr-&gt;sh_type == SHT_REL || shdr-&gt;sh_type == SHT_RELA) {
<a href='../S/13.html#L365'>shdr</a>              365 bsp/boot/common/elf.c 			if (relocate_section(img, shdr) != 0) {
<a href='../S/876.html#L159'>shdr</a>              159 usr/server/exec/exec_elf.c relocate_section(Elf32_Shdr *shdr, char *rel_data)
<a href='../S/876.html#L165'>shdr</a>              165 usr/server/exec/exec_elf.c 	if (shdr-&gt;sh_entsize == 0)
<a href='../S/876.html#L167'>shdr</a>              167 usr/server/exec/exec_elf.c 	if ((target_sect = sect_addr[shdr-&gt;sh_info]) == 0)
<a href='../S/876.html#L169'>shdr</a>              169 usr/server/exec/exec_elf.c 	if ((sym_table = (Elf32_Sym *)sect_addr[shdr-&gt;sh_link]) == 0)
<a href='../S/876.html#L172'>shdr</a>              172 usr/server/exec/exec_elf.c 	nr_reloc = (int)(shdr-&gt;sh_size / shdr-&gt;sh_entsize);
<a href='../S/876.html#L173'>shdr</a>              173 usr/server/exec/exec_elf.c 	switch (shdr-&gt;sh_type) {
<a href='../S/876.html#L197'>shdr</a>              197 usr/server/exec/exec_elf.c 	Elf32_Shdr *shdr;
<a href='../S/876.html#L222'>shdr</a>              222 usr/server/exec/exec_elf.c 	shdr = (Elf32_Shdr *)buf;
<a href='../S/876.html#L224'>shdr</a>              224 usr/server/exec/exec_elf.c 	for (i = 0; i &lt; ehdr-&gt;e_shnum; i++, shdr++) {
<a href='../S/876.html#L225'>shdr</a>              225 usr/server/exec/exec_elf.c 		if (shdr-&gt;sh_type == SHT_NOBITS) { /* bss? */
<a href='../S/876.html#L226'>shdr</a>              226 usr/server/exec/exec_elf.c 			total_size = shdr-&gt;sh_addr + shdr-&gt;sh_size;
<a href='../S/876.html#L246'>shdr</a>              246 usr/server/exec/exec_elf.c 	shdr = (Elf32_Shdr *)buf;
<a href='../S/876.html#L247'>shdr</a>              247 usr/server/exec/exec_elf.c 	for (i = 0; i &lt; ehdr-&gt;e_shnum; i++, shdr++) {
<a href='../S/876.html#L254'>shdr</a>              254 usr/server/exec/exec_elf.c 		if (shdr-&gt;sh_type == SHT_PROGBITS) {
<a href='../S/876.html#L255'>shdr</a>              255 usr/server/exec/exec_elf.c 			switch (shdr-&gt;sh_flags &amp; SHF_VALID) {
<a href='../S/876.html#L263'>shdr</a>              263 usr/server/exec/exec_elf.c 			addr = (char *)((u_long)mapped + shdr-&gt;sh_addr);
<a href='../S/876.html#L264'>shdr</a>              264 usr/server/exec/exec_elf.c 			if (shdr-&gt;sh_size == 0) {
<a href='../S/876.html#L267'>shdr</a>              267 usr/server/exec/exec_elf.c 		} else if (shdr-&gt;sh_type == SHT_NOBITS) {
<a href='../S/876.html#L270'>shdr</a>              270 usr/server/exec/exec_elf.c 				(char *)((u_long)mapped + shdr-&gt;sh_addr);
<a href='../S/876.html#L272'>shdr</a>              272 usr/server/exec/exec_elf.c 		} else if (shdr-&gt;sh_type == SHT_SYMTAB ||
<a href='../S/876.html#L273'>shdr</a>              273 usr/server/exec/exec_elf.c 			   shdr-&gt;sh_type == SHT_RELA ||
<a href='../S/876.html#L274'>shdr</a>              274 usr/server/exec/exec_elf.c 			   shdr-&gt;sh_type == SHT_REL)
<a href='../S/876.html#L277'>shdr</a>              277 usr/server/exec/exec_elf.c 			if ((addr = malloc(shdr-&gt;sh_size)) == NULL) {
<a href='../S/876.html#L284'>shdr</a>              284 usr/server/exec/exec_elf.c 		if (lseek(fd, shdr-&gt;sh_offset, SEEK_SET) &lt; 0) {
<a href='../S/876.html#L288'>shdr</a>              288 usr/server/exec/exec_elf.c 		if (read(fd, addr, shdr-&gt;sh_size) &lt; 0) {
<a href='../S/876.html#L296'>shdr</a>              296 usr/server/exec/exec_elf.c 	shdr = (Elf32_Shdr *)buf;
<a href='../S/876.html#L297'>shdr</a>              297 usr/server/exec/exec_elf.c 	for (i = 0; i &lt; ehdr-&gt;e_shnum; i++, shdr++) {
<a href='../S/876.html#L298'>shdr</a>              298 usr/server/exec/exec_elf.c 		if (shdr-&gt;sh_type == SHT_REL || shdr-&gt;sh_type == SHT_RELA) {
<a href='../S/876.html#L299'>shdr</a>              299 usr/server/exec/exec_elf.c 			if (relocate_section(shdr, sect_addr[i]) != 0) {
<a href='../S/876.html#L310'>shdr</a>              310 usr/server/exec/exec_elf.c 	shdr = (Elf32_Shdr *)buf;
<a href='../S/876.html#L311'>shdr</a>              311 usr/server/exec/exec_elf.c 	for (i = 0; i &lt; ehdr-&gt;e_shnum; i++, shdr++) {
<a href='../S/876.html#L312'>shdr</a>              312 usr/server/exec/exec_elf.c 		if (shdr-&gt;sh_type == SHT_SYMTAB ||
<a href='../S/876.html#L313'>shdr</a>              313 usr/server/exec/exec_elf.c 		    shdr-&gt;sh_type == SHT_RELA ||
<a href='../S/876.html#L314'>shdr</a>              314 usr/server/exec/exec_elf.c 		    shdr-&gt;sh_type == SHT_REL) {
</pre>
</body>
</html>
